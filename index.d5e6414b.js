(e=>{const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})),t=+d("cleartime")||4,o=d("introtext")||"Start talking.",s=d("continuous")||"on",i=d("mic")||"on",r=d("language")||d("lang")||null,a=d("subkey")||"sub-c-79b0a26a-80a9-11e8-8f4a-96bbd71e7d14",l=d("pubkey")||"pub-c-fd9b97a4-7b78-4ae1-a21e-3614f2b6debe",u=d("channel")||username()||void setTimeout((e=>b("Missing configuration!<br><a href='https://github.com/stephenlb/twitch-tv-obs-subtitles/blob/master/readme.md#running-twitchtv-subtitles-from-local-files-on-your-hard-drive'>Follow Instructions</a>")),1e3)||n,c=d("maxwords")||250;let x=d("style")||"";setTimeout((e=>b(o)),10);let p=document.querySelector("#subtitle");function b(e){!function(e,n={}){requester({timeout:1e4})({url:["https://",y,"/publish/",l,"/",a,"/0/",e,"/0/",encodeURIComponent(JSON.stringify(n))].join("")})}(u,{phrase:f({phrase:e}),style:x})}function m(e){p.style=e}function f(e){return e&&e.style&&(x=e.style),m(x),e.style=x,p.innerHTML=function(e){return e.split(" ").slice(-c).join(" ")}(e.phrase),clearTimeout(f.ival),f.ival=setTimeout((async e=>{p.innerHTML=" ",spoken.listen.stop(),h()}),1e3*+t),p.innerHTML}async function h(){var e;await(e=200,new Promise((n=>setTimeout(n,e)))),spoken.listen({continuous:"on"==s}).then((e=>{b(e),used={}})).catch((e=>!0))}function d(e){const n={},t=location.href;return t.indexOf("?")<0?"":(t.split("?")[1].split("&").forEach((e=>{const t=e.split("=");n[t[0]]=t[1]})),e in n?decodeURIComponent(n[e]):"")}const y="ps"+(Math.random()+"").split(".")[1]+".pubnub.com";!async function(){var e;e=e=>f(e),subscribe({subkey:a,channel:u,message:n=>{n.m.forEach((n=>e(n.d)))}}),m(x),r&&(spoken.recognition.lang=r),"off"!=i&&(h(),spoken.listen.on.end(h),spoken.listen.on.error(h),spoken.listen.on.partial(b))}()})();
//# sourceMappingURL=index.d5e6414b.js.map
