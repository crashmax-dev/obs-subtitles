!function(){const t=window.requester=function(t={}){let n=new XMLHttpRequest,e=!1,o=t.timeout||15e3,i=t.success||function(){},u=t.fail||function(){};function r(){e||(n.abort&&n.abort(),s())}function s(){e=!0,clearTimeout(n.timer)}return n.onload=function(){if(!e){var t;s();try{t=JSON.parse(n.response)}catch(t){u(n)}t?i(t):u(n),t=null}},n.onabort=n.ontimeout=n.onerror=function(){e||(s(),u(n))},function(t){let i=t.url||"https://ps.pubnub.com/time/0",s=t.headers||{},c=t.method||"GET",a=t.payload||null,f=t.params||t.data||{},m=[];for(var l in f)m.push([l,f[l]].join("="));for(var b in e=!1,n.timeout=o,n.open(c,i+(m.length?"?"+m.join("&"):""),!0),s)n.setRequestHeader(b,s[b]);return n.send(a?JSON.stringify(a):null),n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){e||(r(),u(n))}),o),{xhr:n,abort:r}}};window.subscribe=function(n){n.pubkey;var e=n.subkey||"demo",o=n.channel||"a",i=n.timeout||29e4,u=n.timetoken||"0",r=n.message||function(){},s=n.windowing||1e3,c=10,a=!1,f="",m="ps"+(Math.random()+"").split(".")[1]+".pubnub.com",l=t({timeout:i,success:b,fail:function(){b()}});function b(t){a||(t&&(u=t.t.t,r(t)),f=["https://",m,"/v2/subscribe/",e,"/",o,"/0/",u].join(""),setTimeout((function(){c=s,l({url:f})}),c))}return b(),{unsubscribe:function(){a=!0}}}}();
//# sourceMappingURL=index.69f49e8d.js.map
